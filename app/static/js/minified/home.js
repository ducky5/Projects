"use strict";document.onreadystatechange=function(){if("complete"===document.readyState){let t=document.querySelectorAll('button[class="add"]');for(let e=0,n=t.length;e<n;e++)t[e].addEventListener("click",function(){let n=new XMLHttpRequest,s={id:t[e].getAttribute("USER_ID")};n.onload=function(){200==this.status&&"success"==this.responseText&&t[e].parentElement.parentElement.remove()},n.open("POST","/adduser",!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(s))});let n=document.querySelectorAll(".list-item-wrapper");try{var e=n[n.length-1].getAttribute("USER_ID")}catch(t){e=1}document.getElementById("load_more").onclick=function(){let t=new XMLHttpRequest,n={id_of_latest_listing:e};t.onload=function(){if(200==this.status){let t=JSON.parse(this.responseText),n="";for(let e=0,s=t.load.length;e<s;e++){n+='<div class="list-item-wrapper" USER_ID="'+t.load[e][0].id+'"><span class="action-buttons"><button type="button" name="add_user" class="add" title="add"USER_ID="'+t.load[e][0].id+'"><i class="fas fa-plus-circle"></i></button></span><li><span class="username">'+t.load[e][0].username+'</span><span class="meta-data"><span class="gender '+t.load[e][0].gender+'">[<i class="fas fa-'+t.load[e][0].gender+'" name="gender"></i>]</span><span class="compatibility">['+t.load[e][1]+'%]</span><span class="age">['+t.load[e][0].age+"]</span></span></li></div>"}document.getElementById("list_of_users").innerHTML+=n;try{e=t.load[t.load.length-1][0].id}catch(t){e++}let s=document.querySelectorAll('button[class="add"]');for(let e=0,t=s.length;e<t;e++)s[e].addEventListener("click",function(){let t=new XMLHttpRequest,n={id:s[e].getAttribute("USER_ID")};t.onload=function(){200==this.status&&"success"==this.responseText&&s[e].parentElement.parentElement.remove()},t.open("POST","/adduser",!0),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(n))})}},t.open("POST","/load_more",!0),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(n))}}};
