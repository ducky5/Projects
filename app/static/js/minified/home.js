"use strict";document.onreadystatechange=function(){if("complete"===document.readyState){let e=document.querySelectorAll('button[class="add"]');for(let t=0,n=e.length;t<n;t++)e[t].addEventListener("click",function(){let n=new XMLHttpRequest,s={id:e[t].getAttribute("USER_ID")};n.onload=function(){200==this.status&&"success"==this.responseText&&e[t].parentElement.parentElement.remove()},n.open("POST","/adduser",!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(s))});let t=document.querySelectorAll(".list-item-wrapper"),n=t[t.length-1].getAttribute("USER_ID");document.getElementById("load_more").onclick=function(){let e=new XMLHttpRequest,t={id_of_latest_listing:n};e.onload=function(){if(200==this.status){let e=JSON.parse(this.responseText),t="";for(let n=0,s=e.load.length;n<s;n++){t+='<div class="list-item-wrapper" USER_ID="'+e.load[n][0].id+'"><span class="action-buttons"><button type="button" name="add_user" class="add" title="add"USER_ID="'+e.load[n][0].id+'"><i class="fas fa-plus-circle"></i></button></span><li><span class="username">'+e.load[n][0].username+'</span><span class="meta-data"><span class="gender '+e.load[n][0].gender+'">[<i class="fas fa-'+e.load[n][0].gender+'" name="gender"></i>]</span><span class="compatibility">['+e.load[n][1]+'%]</span><span class="age">['+e.load[n][0].age+"]</span></span></li></div>"}document.getElementById("list_of_users").innerHTML+=t;try{n=e.load[e.load.length-1][0].id}catch(e){}let s=document.querySelectorAll('button[class="add"]');for(let e=0,t=s.length;e<t;e++)s[e].addEventListener("click",function(){let t=new XMLHttpRequest,n={id:s[e].getAttribute("USER_ID")};t.onload=function(){200==this.status&&"success"==this.responseText&&s[e].parentElement.parentElement.remove()},t.open("POST","/adduser",!0),t.setRequestHeader("Content-Type","application/json"),t.send(JSON.stringify(n))})}},e.open("POST","/load_more",!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify(t))}}};
